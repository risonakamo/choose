export class WdMain extends React.Component{constructor(a){super(a),this.addChoice=this.addChoice.bind(this),this.mainKeys=this.mainKeys.bind(this),this.state={choices:[]},this.choicesId=0,this.choiceRefs={}}addChoice(a){this.choicesId++,this.state.choices.splice(this.state.choices.indexOf(a)+1,0,this.choicesId),this.setState({choices:this.state.choices})}mainKeys(a,b,c=!1){"Enter"==a.key?(a.preventDefault(),!c&&this.addChoice(b)):"Backspace"==a.key&&c&&console.log("delete")}render(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"title",contentEditable:"",onKeyDown:a=>{this.mainKeys(a,0)}},"\u3069\u3046\u3057\u3088\u3046"),this.state.choices.map((a,b)=>React.createElement(Choice,{number:b+1,key:a,cid:a,mainKeys:this.mainKeys,addChoice:this.addChoice,ref:b=>{this.choiceRefs[a]||(this.choiceRefs[a]=b,b.focus())}})))}}class Choice extends React.Component{constructor(a){super(a),this.focus=this.focus.bind(this),this.checkEmpty=this.checkEmpty.bind(this),this.maininput=React.createRef()}focus(){this.maininput.current.focus()}checkEmpty(){return!(""!=this.maininput.current.innerText)}render(){return React.createElement("div",{className:"choice"},React.createElement("span",null,this.props.number),React.createElement("div",{className:"input",contentEditable:"",onKeyDown:a=>{this.props.mainKeys(a,this.props.cid,this.checkEmpty())},ref:this.maininput}))}}